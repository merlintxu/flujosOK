<?xml version="1.0" encoding="UTF-8"?>
<phpunit
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:noNamespaceSchemaLocation="https://schema.phpunit.de/11.5/phpunit.xsd"
  bootstrap="tests/bootstrap.php"
  colors="true"
  failOnWarning="false"
  failOnDeprecation="false">

  <testsuites>
    <testsuite name="all">
      <!-- Todos los tests que vivan en /tests -->
      <directory suffix="Test.php">tests</directory>
      <!-- Si tienes tests que no terminan en *Test.php, descomenta:
      <directory suffix=".php">tests</directory>
      -->
    </testsuite>
  </testsuites>

  <!-- OJO: no ponemos secretos aquí; los cargará tests/bootstrap.php desde .env/.env.testing -->
  <php>
    <!-- Útiles para modo prueba; si ya vienen del .env, se sobreescriben ahí -->
    <env name="APP_ENV" value="testing"/>
  </php>

  <!-- PHPUnit 11 usa <source> para cobertura -->
  <source>
    <include>
      <directory>app</directory>
    </include>
    <exclude>
      <directory>tests</directory>
      <directory>vendor</directory>
      <directory>storage</directory>
      <directory>public</directory>
      <directory>admin/views</directory>
      <file>admin/index.php</file>
    </exclude>
  </source>
</phpunit>
